(()=>{const e=async(e,t)=>{const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await n.json();var o;document.getElementById("domoMessage").classList.add("hidden"),s.redirect&&(window.location=s.redirect),s.error&&(o=s.error,document.getElementById("errorMessage").textContent=o,document.getElementById("domoMessage").classList.remove("hidden"))};window.onload=()=>{const t=document.getElementById("signupForm"),n=document.getElementById("loginForm"),s=document.getElementById("domoForm"),o=document.getElementById("domoMessage");t&&t.addEventListener("submit",(n=>{n.preventDefault(),o.classList.add("hidden");const s=t.querySelector("#user").value,r=t.querySelector("#pass").value,d=t.querySelector("#pass2").value;return e(t.getAttribute("action"),{username:s,pass:r,pass2:d}),!1})),n&&n.addEventListener("submit",(t=>{t.preventDefault(),o.classList.add("hidden");const s=n.querySelector("#user").value,r=n.querySelector("#pass").value;return e(n.getAttribute("action"),{username:s,pass:r}),!1})),s&&s.addEventListener("submit",(t=>{t.preventDefault(),o.classList.add("hidden");const n=s.querySelector("#domoName").value,r=s.querySelector("#domoAge").value;return e(s.getAttribute("action"),{name:n,age:r}),!1}))}})();